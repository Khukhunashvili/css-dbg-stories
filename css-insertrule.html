<!DOCTYPE html>
<title>Demo</title>
<style>
  :root { background: lime; }
</style>
<script>
  const element = document.querySelector('style');
  const sheet = element.sheet;

  console.assert(sheet.cssRules[0].styleMap.get('background').toString() === 'lime');
  sheet.deleteRule(0);

  console.assert(sheet.cssRules.length === 0);

  sheet.insertRule(':root { background: dodgerblue; }');
  console.assert(sheet.cssRules[0].styleMap.get('background').toString() === 'dodgerblue');
</script>
